(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3141154a"],{"1e87":function(t,e,n){"use strict";var i=n("9711"),s=n.n(i);s.a},4803:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"activity flex--column"},[n("checkout-navbar"),n("div",{staticClass:"activity-container page-content--header flex--column"},[n("h1",[t._v("Latest Activity")]),n("div",[n("div",{staticClass:"flex--row activity-content"},[n("div",{staticClass:"flex--row filter"},[n("label",{attrs:{for:"types"}},[t._v("Filters:")]),n("div",{staticClass:"flex--row filter-select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{name:"types",id:"types"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"All"}},[t._v("All Types")]),n("option",{attrs:{value:"Upcoming"}},[t._v("Upcoming/Completed")]),n("option",{attrs:{value:"Canceled"}},[t._v("Canceled")]),n("option",{attrs:{value:"Other"}},[t._v("Other Activities")])]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dateRange,expression:"dateRange"}],attrs:{name:"time range",id:"range"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dateRange=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"three"}},[t._v("Three Months")]),n("option",{attrs:{value:"six"}},[t._v("Six Months")]),n("option",{attrs:{value:"nine"}},[t._v("Nine Months")]),n("option",{attrs:{value:"twelve"}},[t._v("Twelve Months")])])])]),n("div",{staticClass:"flex--row buttons"},[n("button",{on:{click:t.resetFilter}},[t._v("RESET")]),n("button",{on:{click:t.filterSelectedResult}},[t._v("UPDATE")])])]),n("el-divider"),t._m(0)],1),n("div",{staticClass:"activity-items-wrapper"},[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],attrs:{"infinite-scroll-disabled":"disabled"}},t._l(t.sortedResult,(function(t){return n("activity-item",{key:t.createTime,attrs:{bookingItem:t}})})),1)])]),n("checkout-footer")],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("We can only show up to "),n("b",[t._v("12 months")]),t._v(" of past activity.")])}],o=n("5530"),a=n("f2cb"),r=n("994b"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{staticClass:"flex--row activity-item"},[n("div",{staticClass:"flex--column date"},[n("div",{staticClass:"flex--row date-items"},[n("div",{staticClass:"flex--row date-item-1"},[n("span",{staticClass:"date-1"},[t._v(t._s(t.dateStart.date))]),n("div",{staticClass:"flex--column"},[n("span",{staticClass:"date-2"},[t._v(t._s(t.months[t.dateStart.months]))]),n("span",{staticClass:"date-3"},[t._v(t._s(t.dateStart.years))])])]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24","xml:space":"preserve"}},[n("path",{attrs:{d:"M23.854,11.647l-9.5-9.5c-1.022-1.022-2.685-1.022-3.707,0c-1.022,1.022-1.022,2.685,0,3.707L14.293,9.5H2.5C1.122,9.5,0,10.622,0,12s1.122,2.5,2.5,2.5h11.793l-3.646,3.646c-1.022,1.022-1.022,2.685,0,3.707c0.511,0.511,1.182,0.767,1.854,0.767s1.342-0.255,1.854-0.767l9.5-9.5C24.049,12.158,24.049,11.842,23.854,11.647z"}})]),n("div",{staticClass:"flex--row date-item-2"},[n("span",{staticClass:"date-1"},[t._v(t._s(t.dateEnd.date))]),n("div",{staticClass:"flex--column"},[n("span",{staticClass:"date-2"},[t._v(t._s(t.months[t.dateEnd.months]))]),n("span",{staticClass:"date-3"},[t._v(t._s(t.dateEnd.years))])])]),n("el-divider",{staticClass:"divider-ver",attrs:{direction:"vertical"}}),n("el-divider",{staticClass:"divider-hor"})],1)]),n("div",{staticClass:"flex--row detail"},[n("div",{staticClass:"type flex--column"},[n("span",[t._v(t._s(t.bookingItem.type))]),"Stay"===t.bookingItem.type?n("ul",t._l(t.rooms,(function(e,i){return n("li",{key:t.keyNum+i},[t._v("Room "+t._s(i+1)+": "+t._s(e.roomSelect.roomType))])})),0):t._e()]),n("div",{staticClass:"status"},[n("span",[t._v(t._s(t.checkStatus))])]),n("div",{staticClass:"flex--column option"},[n("div",{staticClass:"flex--row option-item"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24","xml:space":"preserve"}},[n("path",{attrs:{d:"M19,8.5C19,8.776,19.224,9,19.5,9h4C23.776,9,24,8.776,24,8.5V4.542c0-0.276-0.224-0.5-0.5-0.5S23,4.265,23,4.542v2.952C20.336,2.59,16.549,0,12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12c0-0.276-0.224-0.5-0.5-0.5S23,11.724,23,12c0,6.065-4.935,11-11,11S1,18.065,1,12S5.935,1,12,1c5.166,0,8.33,3.658,10.141,7H19.5C19.224,8,19,8.224,19,8.5z"}})]),n("span",{on:{click:t.submitBookingRequest}},[t._v("BOOK AGAIN")])]),"Upcoming"===t.bookingItem.status&&"Completed"!==t.checkStatus&&"Pending"!==t.checkStatus?n("div",{staticClass:"flex--row option-item"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24","xml:space":"preserve"}},[n("path",{attrs:{d:"M11.5,0C5.159,0,0,5.159,0,11.5S5.159,23,11.5,23S23,17.841,23,11.5S17.841,0,11.5,0z M17.5,12h-12C5.224,12,5,11.776,5,11.5S5.224,11,5.5,11h12c0.276,0,0.5,0.224,0.5,0.5S17.776,12,17.5,12z"}})]),n("span",{on:{click:t.submitCancelRequest}},[t._v("CANCEL BOOKING")])]):t._e()])])])])},u=[],l=(n("96cf"),n("1da1")),d=n("5a0c"),m=n.n(d),p=n("8dee"),v=n.n(p),f=n("d186");m.a.extend(f);var h={name:"ActivityItem",props:{bookingItem:{type:Object,required:!0}},data:function(){return{isRequestSubmitted:!1,rooms:this.bookingItem.roomSelections,dateStart:this.checkBookingDateStart(this.bookingItem),dateEnd:this.checkBookingDateEnd(this.bookingItem),keyNum:v.a.generate(),months:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]}},computed:{checkStatus:function(){var t=m()();return this.isRequestSubmitted?"Pending":"Upcoming"===this.bookingItem.status&&"Stay"===this.bookingItem.type?t.diff(this.bookingItem.roomSelections[0].date.start,"day")>0?"Completed":"Upcoming":"Upcoming"===this.bookingItem.status&&"Event/Meeting Inquiry"===this.bookingItem.type?t.diff(this.bookingItem.scheduledDates.start,"day")>0?"Completed":"Upcoming":"Upcoming"===this.bookingItem.status&&"Wedding Inquiry"===this.bookingItem.type?t.diff(this.bookingItem.weddingDate,"day")>0?"Completed":"Upcoming":this.bookingItem.status}},methods:{submitCancelRequest:function(){var t=this;this.$confirm("Are you sure you want to cancel your reservation? Select YES to confirm selection removal.",{confirmButtonText:"YES",cancelButtonText:"CANCEL",customClass:"notification-class",center:!0,type:"warning"}).then((function(){t.$store.dispatch("cancelBooking",{id:t.bookingItem.id,type:t.bookingItem.type}),setTimeout((function(){t.$notify({type:"success",message:"Successfully submitted your cancellation request",customClass:"notification-class"})}),3e3),t.isRequestSubmitted=!0})).catch((function(){setTimeout((function(){t.$notify({type:"info",message:"Remove cancellation request",customClass:"notification-class"})}),500)}))},submitBookingRequest:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Stay"!==t.bookingItem.type){e.next=14;break}return n=m()().toISOString(),i=v.a.generate(),s={date:{start:new Date((new Date).setDate((new Date).getDate()+2)),end:new Date((new Date).setDate((new Date).getDate()+2))},guests:{numOfAdultGuests:t.bookingItem.roomSelections[0].guests.numOfAdultGuests,numOfChildrenGuest:t.bookingItem.roomSelections[0].guests.numOfChildrenGuest},time:n},e.next=6,t.$store.dispatch("generateId",i);case 6:return e.next=8,t.$store.dispatch("searchRoomType",s);case 8:return e.next=10,setTimeout((function(){t.$router.push({name:"Reservation",params:{tempId:i},query:{createdTime:m()(n).format("YYYY-MM-DD"),currentStep:"s1"}})}),1500);case 10:return e.next=12,t.$store.dispatch("submitBookingRequest");case 12:e.next=26;break;case 14:if("Event/Meeting Inquiry"!==t.bookingItem.type){e.next=21;break}return e.next=17,setTimeout((function(){t.$router.push("/events/inquiry")}),1500);case 17:return e.next=19,t.$store.dispatch("submitBookingRequest");case 19:e.next=26;break;case 21:if("Wedding Inquiry"!==t.bookingItem.type){e.next=26;break}return e.next=24,setTimeout((function(){t.$router.push("/wedding/inquiry")}),1500);case 24:return e.next=26,t.$store.dispatch("submitBookingRequest");case 26:case"end":return e.stop()}}),e)})))()},convertDateType:function(t){return m()(new Date(t).toUTCString()).toObject()},checkBookingDateStart:function(t){return"Stay"===t.type?this.convertDateType(this.bookingItem.roomSelections[0].date.start):"Wedding Inquiry"===t.type?this.convertDateType(this.bookingItem.weddingDate):"Event/Meeting Inquiry"===t.type?this.convertDateType(this.bookingItem.scheduledDates.start):void 0},checkBookingDateEnd:function(t){return"Stay"===t.type?this.convertDateType(this.bookingItem.roomSelections[0].date.end):"Wedding Inquiry"===t.type?this.convertDateType(this.bookingItem.weddingDate):"Event/Meeting Inquiry"===t.type?this.convertDateType(this.bookingItem.scheduledDates.end):void 0}}},g=h,b=(n("1e87"),n("2877")),y=Object(b["a"])(g,c,u,!1,null,"24ffd56b",null),k=y.exports,w=n("2f62"),x={name:"ReservationDetail",components:{CheckoutNavbar:a["a"],CheckoutFooter:r["default"],ActivityItem:k},data:function(){return{count:3,loading:!1,type:"All",dateRange:"six"}},computed:Object(o["a"])(Object(o["a"])({},Object(w["b"])({sortedResult:"sortedResult"})),{},{noMore:function(){return this.count>=20},disabled:function(){return this.loading||this.noMore}}),methods:{load:function(){var t=this;this.loading=!0,setTimeout((function(){t.count+=3,t.loading=!1}),3e3)},filterSelectedResult:function(){var t={status:this.type,range:this.dateRange};this.$store.dispatch("submitFilterChoice",t)},resetFilter:function(){this.$store.dispatch("resetFilterChoice"),this.type="All",this.dateRange="six"}}},C=x,_=(n("b88d"),Object(b["a"])(C,i,s,!1,null,"f1f4e26a",null));e["default"]=_.exports},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},9711:function(t,e,n){},b64b:function(t,e,n){var i=n("23e7"),s=n("7b0b"),o=n("df75"),a=n("d039"),r=a((function(){o(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return o(s(t))}})},b88d:function(t,e,n){"use strict";var i=n("cfc3"),s=n.n(i);s.a},cfc3:function(t,e,n){},d186:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e){e.prototype.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}}}}))},dbb4:function(t,e,n){var i=n("23e7"),s=n("83ab"),o=n("56ef"),a=n("fc6a"),r=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,n,i=a(t),s=r.f,u=o(i),l={},d=0;while(u.length>d)n=s(i,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){var i=n("23e7"),s=n("d039"),o=n("fc6a"),a=n("06cf").f,r=n("83ab"),c=s((function(){a(1)})),u=!r||c;i({target:"Object",stat:!0,forced:u,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})}}]);
//# sourceMappingURL=chunk-3141154a.e31ebf4f.js.map